<!DOCTYPE html>
<html>

<head>
  <style type="text/css">
      html { height: 100% }
      body { height: 100%; margin: 0; padding: 0 }
      #map_canvas { height: 100% }
    </style>
<script src="https://maps.googleapis.com/maps/api/js?sensor=false&region=GB"
  type="text/javascript"></script>


<script>

function detectBrowser() {
  var useragent = navigator.userAgent;
  var mapdiv = document.getElementById("map_canvas");

  if (useragent.indexOf('iPhone') != -1 || useragent.indexOf('Android') != -1 ) {
    mapdiv.style.width = '100%';
    mapdiv.style.height = '100%';
  } else {
    mapdiv.style.width = '600px';
    mapdiv.style.height = '800px';
  }
}


var x=document.getElementById("demo");
function getLocation()
  {
  if (navigator.geolocation)
    {
    navigator.geolocation.getCurrentPosition(showPosition,showError);
    }
  else{x.innerHTML="Geolocation is not supported by this browser.";}
  }

function showPosition(position)
  {
  var lat=position.coords.latitude; 
  var lon=position.coords.longitude;
  var latlon=new google.maps.LatLng(lat, lon);

  placeMarker(latlon);
  }

function showError(error)
  {
  switch(error.code) 
    {
    case error.PERMISSION_DENIED:
      x.innerHTML="User denied the request for Geolocation."
      break;
    case error.POSITION_UNAVAILABLE:
      x.innerHTML="Location information is unavailable."
      break;
    case error.TIMEOUT:
      x.innerHTML="The request to get user location timed out."
      break;
    case error.UNKNOWN_ERROR:
      x.innerHTML="An unknown error occurred."
      break;
    }
  }

    
    function initialize() {
        var myLatlng = new google.maps.LatLng(51.507340, -0.127673);
        var mapOptions = {
          zoom: 13,
          center: myLatlng,
          mapTypeId: google.maps.MapTypeId.ROADMAP
        }
        
         map = new google.maps.Map(document.getElementById('map_canvas'), mapOptions);
      }

      
  function placeMarker(location) {
  var marker = new google.maps.Marker({
      position: location,
      map: map
      
    });
  map.setCenter(location);
}

</script>

</head>


<body onload="initialize()">

<p id="demo">Click the button to get your position:</p>
<button onclick="getLocation()" value="Find Location"></button>
<div id="map_canvas" style="width: 100%; height: 100%"></div>

</body>
</html>